(this["webpackJsonpcovid19-usmap"]=this["webpackJsonpcovid19-usmap"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(2),c=a.n(r),l=(a(13),a(3)),s=a(4),i=a(6),d=a(7),u=a(5),m=(a(14),function(){return o.a.createElement("div",{className:"spinner-border text-primary",role:"status",style:{position:"absolute",left:"50%",top:"50%"}},o.a.createElement("span",{className:"sr-only"},"Loading..."))}),h=a(15),v=function(e){Object(d.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={us_cases:0,us_deaths:0,us_recovered:0,stateData:[],hasError:!1,lastUpdated:null,maxCases:{},maxDeaths:{},minCases:{},minDeaths:{},isLoading:!0},e.refreshData=function(){e.setState({isLoading:!0}),localStorage.clear(),e.fetchAllData()},e.fetchAllData=function(){if(null!=localStorage.getItem("covid_data")&&null!=localStorage.getItem("covid_data_updated")&&null!=localStorage.getItem("covid_data_recovered")){var t=JSON.parse(localStorage.getItem("covid_data"));e.setUSTotals(t),e.setMinAndMaxValues(t),e.setState({us_recovered:localStorage.getItem("covid_data_recovered"),stateData:t,lastUpdated:localStorage.getItem("covid_data_updated")})}else fetch("https://covid19-api.weedmark.systems/api/v1/stats").then((function(e){return e.json()})).then((function(t){var a=t.data.covid19Stats.filter((function(e){return"US"===e.country}));localStorage.setItem("covid_data",JSON.stringify(e.groupData(a))),localStorage.setItem("covid_data_updated",t.data.lastChecked),e.setState({stateData:e.groupData(a),lastUpdated:t.data.lastChecked})})).catch((function(t){console.log(t),e.setState({hasError:!0})}))},e.groupData=function(t){var a={},n=[];for(var o in t.forEach((function(t){"Recovered"===t.province?"US"===t.country&&(localStorage.setItem("covid_data_recovered",t.recovered),e.setState({us_recovered:t.recovered})):"undefined"===typeof a[t.province]?a[t.province]={province:t.province,confirmed:t.confirmed,deaths:t.deaths,recovered:t.recovered,lastUpdate:t.lastUpdate,keyId:t.keyId}:(a[t.province].confirmed+=t.confirmed,a[t.province].deaths+=t.deaths,a[t.province].recovered+=t.recovered,a[t.province].keyId+="|"+t.keyId)})),a)n.push(a[o]);return e.setUSTotals(n),e.setMinAndMaxValues(n),n},e.setUSTotals=function(t){for(var a=0,n=0,o=0;o<t.length;o++)a+=t[o].confirmed;for(o=0;o<t.length;o++)n+=t[o].deaths;e.setState({us_cases:a,us_deaths:n})},e.setMinAndMaxValues=function(t){for(var a={province:"",count:0},n=0;n<t.length;n++)t[n].confirmed>a.count&&(a.count=t[n].confirmed,a.province=t[n].province);var o={province:a.province,count:a.count};for(n=0;n<t.length;n++)t[n].confirmed<o.count&&(o.count=t[n].confirmed,o.province=t[n].province);var r={province:"",count:0};for(n=0;n<t.length;n++)t[n].deaths>r.count&&(r.count=t[n].deaths,r.province=t[n].province);var c={province:r.province,count:r.count};for(n=0;n<t.length;n++)t[n].deaths<c.count&&(c.count=t[n].deaths,c.province=t[n].province);setTimeout((function(){e.setState({isLoading:!1});for(var a=0;a<t.length;a++){var n=100-t[a].deaths/r.count*100;f(n,t[a].province)}}),1e3)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.fetchAllData()}},{key:"render",value:function(){var e=this.state,t=(e.hasError,e.stateData),a=e.isLoading,n=e.us_cases,r=e.us_deaths,c=e.us_recovered,l=t.map((function(e,t){return o.a.createElement("tr",{key:t,"data-state":S[e.province]},o.a.createElement("td",null,e.province),o.a.createElement("td",null,e.confirmed),o.a.createElement("td",null,e.deaths),o.a.createElement("td",null,h(new Date(e.lastUpdate)).startOf("hour").fromNow()))}));return o.a.createElement("div",{className:"cover-container d-flex w-100 h-100 p-3 mx-auto flex-column"},o.a.createElement("header",{className:"masthead mb-auto"},o.a.createElement("div",{className:"inner"},o.a.createElement("h3",{className:"masthead-brand"},"U.S Coronavirus Cases"),o.a.createElement("nav",{className:"nav nav-masthead justify-content-center"},o.a.createElement("a",{className:"nav-link active",href:"#"},"Home"),o.a.createElement("a",{className:"nav-link",href:"#"},"Contact")))),o.a.createElement("main",{role:"main",className:"inner cover"},a?o.a.createElement(m,null):o.a.createElement("div",{style:{width:"100%",height:700}},o.a.createElement("table",{style:{width:"100%",fontSize:"2em",marginTop:"8%"}},o.a.createElement("thead",null,o.a.createElement("td",null,"Cases"),o.a.createElement("td",null,"Deaths"),o.a.createElement("td",null,"Recoveries")),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{style:{fontSize:"1.5em"}},n),o.a.createElement("td",{style:{color:"red",fontSize:"1.5em"}},r),o.a.createElement("td",{style:{color:"#5aff5a",fontSize:"1.5em"}},c)))),o.a.createElement(u.VectorMap,{map:"us_aea",backgroundColor:"#505050",ref:"map",zoomOnScroll:!1,containerStyle:{width:"100%",height:"100%",padding:"5%"},regionsSelectable:!0,regionsSelectableOne:!0,regionStyle:{initial:{fill:"#175c98",borderColor:"#fff","fill-opacity":1,stroke:"none","stroke-width":0,"stroke-opacity":1},hover:{"fill-opacity":.8,cursor:"pointer"},selected:{fill:"yellow","fill-opacity":1},selectedHover:{}},containerClassName:"map"}),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{style:{width:"100%",fontSize:"1.2em",color:"#fff"},className:"table table-striped table-sm"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"State"),o.a.createElement("th",null,"Total Cases"),o.a.createElement("th",null,"Deaths"),o.a.createElement("th",null,"Last Updated"))),o.a.createElement("tbody",null,l))))))}}]),a}(o.a.Component),S={Alaska:"US-AK",Alabama:"US-AL",Arkansas:"US-AR",Arizona:"US-AZ",California:"US-CA",Colorado:"US-CO",Connecticut:"US-CT",Delaware:"US-DE",Florida:"US-FL",Georgia:"US-GA",Hawaii:"US-HI",Iowa:"US-IA",Idaho:"US-ID",Illinois:"US-IL",Indiana:"US-IN",Kansas:"US-KS",Kentucky:"US-KY",Louisiana:"US-LA",Massachusetts:"US-MA",Maryland:"US-MD",Maine:"US-ME",Michigan:"US-MI",Minnesota:"US-MN",Missouri:"US-MO",Mississippi:"US-MS",Montana:"US-MT","North Carolina":"US-NC","North Dakota":"US-ND",Nebraska:"US-NE","New Hampshire":"US-NH","New Jersey":"US-NJ","New Mexico":"US-NM",Nevada:"US-NV","New York":"US-NY",Ohio:"US-OH",Oklahoma:"US-OK",Oregon:"US-OR",Pennsylvania:"US-PA","Rhode Island":"US-RI","South Carolina":"US-SC","South Dakota":"US-SD",Tennessee:"US-TN",Texas:"US-TX",Utah:"US-UT",Virginia:"US-VA",Vermont:"US-VT",Washington:"US-WA",Wisconsin:"US-WI","West Virginia":"US-WV",Wyoming:"US-WY"},f=function(e,t){var a,n,o;console.log(e),e<50?(a=255,n=Math.round(5.1*e)):(n=255,a=Math.round(510-5.1*e)),o="#"+("000000"+(65536*a+256*n+0).toString(16)).slice(-6),"undefined"!==typeof S[t]&&null!=document.querySelector("path[data-code="+S[t]+"]")&&(document.querySelector("path[data-code="+S[t]+"]").style.fill=o)},p=v;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(17)}},[[8,1,2]]]);
//# sourceMappingURL=main.d894df63.chunk.js.map